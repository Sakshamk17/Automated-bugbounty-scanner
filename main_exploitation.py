import subprocess
from subdomain_scanner import find_subdomains
from port_scanner import scan_ports
from web_scraper import scrape_info
from sql_injection_scanner import scan_sql_injection

def main():
    print("\nAutomated Bug Bounty Scanner\n")

    #Step1 : Get target domain
    target_domain = input("Enter the target domain: ").strip()

    #Step2 : Finding subdomains
    # print(f"\nFinding subdomains for {target_domain}\n")
    find_subdomains(target_domain)

    #Step3 : Scanninf for the open ports
    # print(f"\nScanning open ports for {target_domain}\n")
    scan_ports(target_domain)

    #Step4 : Scraping the website for emails and links
    # print(f"\nScraping the website data...\n")
    target_url = f"https://{target_domain}"
    scrape_info(target_url)

    #Step5 : SQL Injection scanning
    target_sql_url = input("Enter a target URL with a parameter: ").strip()
    # print(f"\nScanning for SQL Injection vulnerabilities...\n")
    scan_sql_injection(target_sql_url)

    print("\nScanning and exploitation phase completed!\n")

if __name__ == "__main__" :
    main()   